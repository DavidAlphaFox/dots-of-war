<eww>
  <definitions>

    <def name="test">
      <box space-evenly="false" spacing="10">
        testing {{shit}}
        <scale value="50" orientation="v" min="0" max="100" flipped="true" />

        <button onclick="notify-send 'ree' 'this is {{shit}}'">click me</button>
        <calendar show-heading="false" show-day-names="false" day="2" onclick="notify-send 'asdf' '{}'" />
        notify-send 'ree' 'this is {{shit}}'
        <multiple text="{{shit}}" />
      </box>
    </def>

    <def name="multiple">
      <box orientation="v" space-evenly="false">
        <box>{{text}}</box>
        <box>{{text}}</box>
        <box>{{text}}</box>
        <box>{{text}}</box>
        <box>{{text}}</box>

        <label text="reeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee" limit-width="5" wrap="true" />
        <input onchange="notify-send 'ree' '{}'" />
        {{date}}
      </box>
    </def>

    <def name="volume_popup">
      <box orientation="v" space-evenly="true">
        <scale flipped="true" orientation="v" value="{{volume}}" min="0" max="100" onchange="amixer sset 'Master' {}%" />
      </box>
    </def>

    <def name="music">
      <box orientation="h" valign="start" space-evenly="false" hexpand="true">
        <image visible="{{song-image-visible}}" path="{{song-image}}" width="150" height="150" />
        <box orientation="v" halign="fill" space-evenly="false" vexpand="true" hexpand="true">
          <box class="data" vexpand="true">
            <box orientation="v" halign="start">
              <label class="songname" halign="start" limit-width="30" text="{{song-name}}" />
              <box space-evenly="false" halign="start">
                <label class="key" text="Album: " />
                <label halign="start" limit-width="30" text="{{song-album}}" />
              </box>
              <box space-evenly="false" halign="start">
                <label class="key" text="By:    " />
                <label halign="start" limit-width="30" text="{{song-artist}}" />
              </box>
            </box>
          </box>
          <box class="buttons" hexpand="true">
            <button onclick="playerctl previous"></button>
            <button onclick="playerctl play-pause">{{song-playpause}}</button>
            <button onclick="playerctl next"></button>
          </box>
        </box>
      </box>
    </def>

  </definitions>


  <variables>
    <script-var name="volume">
    amixer sget 'Master' | grep 'Front Left:' | sed 's/.*\[\(.*\)%\].*/\1/g';
    LANG=C pactl subscribe | grep REEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE-line-buffered sink | while read -r _; do
    amixer sget 'Master' | grep 'Front Left:' | sed 's/.*\[\(.*\)%\].*/\1/g'
    done
    </script-var>

    <var name="shit">
      shit
    </var>

    <var name="song-image"></var>
    <var name="song-image-visible">true</var>
    <var name="song-name"></var>
    <var name="song-album"></var>
    <var name="song-artist"></var>
    <var name="song-show-progress">false</var>
    <var name="song-playpause"></var>
    <script-var name="date" interval="1s">
      date
    </script-var>
    <!--<script-var name="xyz">-->
    <!--tail -F /home/leon/test | while read -r _; do notify-send "Hi"; done-->
    <!--</script-var>-->

    <!--<script-var name="foo">-->
    <!--tail -F /home/leon/test-->
    <!--</script-var>-->
  </variables>


  <windows>
    <window screen="0" name="main_window" stacking="fg">
      <geometry anchor="top center"/>
      <widget>
        <test ree="test" />
      </widget>
    </window>
    <window screen="0" name="volume_popup">
      <geometry />
      <widget>
        <volume_popup />
      </widget>
    </window>
    <window screen="0" name="music">
      <widget>
        <music />
      </widget>
    </window>
  </windows>
</eww>
